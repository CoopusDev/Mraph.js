<html>
<head>
    <script src="mraph.js" charset="utf-8"></script>
</head>
<body>
    <div id="main" style="display: block; width: 100%; position: absolute; left: 0px;"></div>
    <script type="text/javascript" charset="utf-8">
        const main = document.querySelector("#main");
        Mraph.setup(main, {
            width: window.innerWidth,
            height: window.innerHeight
        });
        
        const center = new Mraph.Point(-400, 0);
        const side = new Mraph.Point(-300, 0);
        const xA = new Mraph.Point(center.x, 0);
        
        const s0 = new Mraph.Segment(side, [0, 0]);
        const s1 = new Mraph.Segment(xA, [0, 0]);
        
        const xAxis = new Mraph.Line(center, xA);
        const circle = new Mraph.Circle(center, side);
        const pt0 = new Mraph.Path([]);
        
        pt0.closed = false;
        s0.color = s1.color = "green";
        
        xA.moveTo([400, 0], 0, 5);
        side.rotateAround(center, Math.PI * 3, 0, 5);
        
        Mraph.animation.add(0, 5, {
            update: () => {
                const p = new Mraph.Point(xA.x, side.y, false);
                pt0.points.push(p);
                s0.point2 = p;
                s1.point2 = p;
            },
            end: () => {
                pt0.closed = true;
                pt0.fillColor = "rgba(50, 100, 250, 0.6)";
                circle.visible = side.visible = xA.visible = center.visible = false;
            }
        });
        Mraph.animation.start();
    </script>
</body>
</html>